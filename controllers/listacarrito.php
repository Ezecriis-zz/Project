<?php//controller/listacarritorequire '../fw/fw.php';require '../models/producto.php';require '../models/Carrito.php';require '../view/ListaCarrito.php';if(isset($_POST['idEliminar'])) {	if(!ctype_digit($_POST['idEliminar'])) throw new Exception;	$car = Carrito::getInstance();	$car->eliminarProd($_POST['idEliminar']);}if (isset($_POST['comprar'])) {	$car = Carrito::getInstance();	if ($car->carritoIsNotEmpty()) {		header('Location: finCompra');	}	else{		header('Location: VerMarcas');	}}if (isset($_POST['idProducto'])) {	if ($_SESSION['logueado']) {		$prod = new producto($_POST['idProducto'], $_POST['detalleProducto'], $_POST['precioParte'], $_POST['cantidad']);		$car = Carrito::getInstance();		if ($car->buscarProductoCarrito($prod)) {			$car->sumarCantidad($prod);		}		else{			$car->addToCarrito($prod);		}		$v = new ListaCarrito();		$v->carrito = $car;		$v->render();	}	else{		header('Location: login');	}}else{		$car = Carrito::getInstance();		$v = new ListaCarrito();		$v->carrito = $car;		$v->render();}